/*
Copyright (c) 2010,2011,2012 Morgan Roderick http://roderick.dk
License: MIT - http://mrgnrdrck.mit-license.org
https://github.com/mroderick/PubSubJS
*/
;(function(k,j){"object"===typeof exports?module.exports=j():"function"===typeof define&&define.amd?define(j):k.PubSub=j()})("object"===typeof window&&window||this,function(){function k(a,b,c){try{a(b,c)}catch(g){setTimeout(function(){throw g;},0)}}function j(a,b,c){a(b,c)}function m(a,b,l,g){var f=c[b];g=g?j:k;var d;if(c.hasOwnProperty(b)){b=0;for(d=f.length;b<d;b++)g(f[b].func,a,l)}}function n(a,b,l,g){var f;f=function(){var c=String(a),d=c.lastIndexOf(".");for(m(a,a,b,g);-1!==d;)c=c.substr(0,d),
d=c.lastIndexOf("."),m(a,c,b)};for(var d=String(a),h=c.hasOwnProperty(d),e=d.lastIndexOf(".");!h&&-1!==e;)d=d.substr(0,e),e=d.lastIndexOf("."),h=c.hasOwnProperty(d);if(!h)return!1;!0===l?f():setTimeout(f,0);return!0}var e={name:"PubSubJS",version:"1.3.6"},c={},p=-1;e.publish=function(a,b){return n(a,b,!1,e.immediateExceptions)};e.publishSync=function(a,b){return n(a,b,!0,e.immediateExceptions)};e.subscribe=function(a,b){c.hasOwnProperty(a)||(c[a]=[]);var e=String(++p);c[a].push({token:e,func:b});
return e};e.unsubscribe=function(a){var b="string"===typeof a,e=b?"token":"func",g=b?a:!0,f=!1,d,h;for(d in c)if(c.hasOwnProperty(d))for(h=c[d].length-1;0<=h;h--)if(c[d][h][e]===a&&(c[d].splice(h,1),f=g,b))return f;return f};return e});
